# CODEGEN MONOREPO CONFIG

overwrite: true
hooks:
  afterOneFileWrite:
    - prettier --write
# schema: 'http://localhost:4001'
generates:
  # GENERATES SERVER TYPES
  libs/server/data-access-models/src/lib/generated/graphql-codegen-typings.d.ts:
    schema: libs/server/graphql-api/src/lib/**/*.graphql
    plugins:
      - typescript
      - typescript-resolvers
      - typescript-mongodb
    config:
      enumsAsTypes: true

  # GENERATES CLIENT/REACT TYPES
  libs/client/data-access-models/src/lib/generated/graphql-codegen-typings.d.ts:
    schema: libs/server/graphql-api/src/lib/**/*.graphql
    plugins:
      - typescript
      - typescript-operations
      - typescript-react-apollo
    config:
      reactApolloVersion: 3
      defaultMapper: any
      # contextType: ../../customTypes#MyContext
      withHooks: true
      withHoc: false
